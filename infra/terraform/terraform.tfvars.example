# ── Copy this file to terraform.tfvars and fill in your values ────────────────
# cp terraform.tfvars.example terraform.tfvars
# !! terraform.tfvars is gitignored — never commit secrets !!

# ── AWS ──────────────────────────────────────────────────────────────────────
aws_region  = "us-east-1"
environment = "dev"   # dev | staging | prod

# ── Networking ────────────────────────────────────────────────────────────────
# Get these from your VPC:
#   aws ec2 describe-vpcs
#   aws ec2 describe-subnets --filters "Name=vpc-id,Values=<vpc-id>"
vpc_id             = "vpc-066faf68d1d601ae1"
private_subnet_ids = ["subnet-09792aa52eeb823dd", "subnet-0c7d9e6f7078ccebe"]
public_subnet_ids  = ["subnet-027dee2920912548d", "subnet-0e9cfb87ba30b4fbd"]

# ── ECS ──────────────────────────────────────────────────────────────────────
ecs_cluster_name           = "sre-poc-mcp-cluster"
service_discovery_namespace = "rating-platform.local"

# ── Application ──────────────────────────────────────────────────────────────
image_tag     = "latest"   # Set to a specific tag in CI (e.g. git SHA)
desired_count = 2         # 2+ avoids 503 when one task restarts; set 1 in dev to save cost

# ── Database (RDS PostgreSQL) ──────────────────────────────────────────────────
# Option A — let Terraform create RDS (set create_rds = true):
create_rds           = true
db_instance_class    = "db.t3.micro"    # Free tier eligible; use db.t3.medium or db.r6g.large for prod
db_allocated_storage = 20               # GB

# Option B — use an existing DB (set create_rds = false, supply db_host):
# create_rds = false
# db_host    = "my-postgres.cluster-xxxx.us-east-1.rds.amazonaws.com"

# Always required:
db_name     = "rating_platform"
db_user     = "rating_user"
db_password = "CHANGE_ME_use_secrets_manager"   # Rotate after first apply!
db_port     = "5432"

# ── Ingress / TLS ─────────────────────────────────────────────────────────────
ingress_enabled = true
ingress_scheme  = "internet-facing"  # internet-facing | internal

# Optional — leave empty for HTTP-only:
domain_name         = ""   # e.g. "rating.example.com"
acm_certificate_arn = ""   # e.g. "arn:aws:acm:us-east-1:123456789:certificate/abc-123"
